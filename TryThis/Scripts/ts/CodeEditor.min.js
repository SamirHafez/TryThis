var type;(function(n){(function(n){var i=function(){function n(n,t){this.editorElement=n,this.resultElement=t;var i=this;this.editor=CodeMirror.fromTextArea($(n)[0],{lineNumbers:!0,onChange:this.compile.bind(i),autofocus:!0,mode:"text/x-csharp",theme:"neat",extraKeys:{"Ctrl-S":this.save.bind(i)}})}return n.prototype.compile=function(n,i){var r=this,f=!1,u;for(u in i.text)if(!i.text[u]||/^\s+$/g.test(i.text[u])){f=!0;break}f||(clearTimeout(this.compileTimeoutHandle),this.compileTimeoutHandle=setTimeout(function(){r.errorHandle&&r.editor.clearMarker(r.errorHandle),$.ajax(t.Compile,{type:"POST",data:{__RequestVerificationToken:r.antiForgeryToken(),code:n.getValue()},success:function(n){return n.error?r.error(n.error):r.success(n.result)},error:function(){r.error("Error while sending code for compilation. Please, try again.")}})},1e3))},n.prototype.error=function(n){var t=this,i=n.substr(1,n.indexOf(",")-1);this.errorHandle=this.editor.setMarker((parseInt(i)||1)-1,"‚óè"),$(this.resultElement).fadeOut("fast",function(){$(t.resultElement).addClass("alert-error").removeClass("alert-success").text(n).slideDown("fast")})},n.prototype.success=function(n){var t=this;$(this.resultElement).fadeOut("fast",function(){$(t.resultElement).addClass("alert-success").removeClass("alert-error").text(n!==null?n:"").slideDown("fast")})},n.prototype.save=function(n){var i=n.getValue();i&&!/^\s+$/g.test(i)&&$.post(t.Save,{__RequestVerificationToken:this.antiForgeryToken(),code:n.getValue(),result:$(this.resultElement).text()},function(n){history.replaceState(null,"saved code",n.url)})},n.prototype.antiForgeryToken=function(){return $("input[name=__RequestVerificationToken]").val()},n}(),t;n.CodeEditor=i,t=function(){function n(){}return Object.defineProperty(n,"Compile",{get:function(){return"Home/Compile"},enumerable:!0,configurable:!0}),Object.defineProperty(n,"Save",{get:function(){return"Home/Save"},enumerable:!0,configurable:!0}),n}()})(n.run||(n.run={}));var t=n.run})(type||(type={}))